!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.diff=t()}(this,function(){"use strict";function e(e,t){return e.map((e,n)=>t&&e?"function"==typeof t?t(e):e[t]:void 0)}function t(e){for(const t of e)if(void 0!==t)return!1;return!0}return function(n,f,o){const i=e(n,o),r=e(f,o),u=n.length,d=f.length,c=[];if(t(i)&&t(r))return c;let p=new Array(u).fill(0);return r.forEach((e,t)=>{let n=i.indexOf(e);if(-1===n)c.push({type:"INSERT",index:t,item:f[t]}),p[u-1]++;else{let e=n;for(let t=u-1;t>=n;t--)e+=p[t];if(t===e)return;c.push({type:"MOVE",from:e,to:t}),p[n]++}}),i.forEach((e,t)=>{-1===r.indexOf(e)&&c.push({type:"REMOVE",index:d})}),c}});
